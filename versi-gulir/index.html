<!DOCTYPE html>
<html lang="id" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Undangan Walimatul Khitan | Harvi Tegar Seftian</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Montserrat:wght@400;500;700&display=swap" rel="stylesheet">
    
    <style>
        body { font-family: 'Montserrat', sans-serif; background-color: #FDF8F0; }
        .font-great-vibes { font-family: 'Great Vibes', cursive; }
        .hero-bg { background-image: url('./images/cover.jpg'); background-size: cover; background-position: center; }
        body.overflow-hidden { overflow: hidden; }
        #opener-overlay { transition: opacity 0.75s ease-in-out; }
        #music-toggle.playing { animation: spin 8s linear infinite; }
        @keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
        .reveal { opacity: 0; transform: translateY(30px); transition: opacity 0.8s ease-out, transform 0.8s ease-out; }
        .reveal.visible { opacity: 1; transform: translateY(0); }
        .hand-press { position: absolute; bottom: -5px; right: -15px; color: #1e3a8a; pointer-events: none; opacity: 0; transform-origin: bottom left; animation: tap-animation 4s ease-in-out infinite 2s; }
        @keyframes tap-animation {
            0%, 20%, 100% { opacity: 0; transform: scale(1) translateX(0); }
            30% { opacity: 1; transform: scale(1) translateX(-20px); }
            40%, 60% { transform: scale(0.9) translateX(-20px) rotate(-10deg); }
            50%, 70% { transform: scale(1) translateX(-20px) rotate(0deg); }
            80% { opacity: 1; transform: scale(1) translateX(-20px); }
            90% { opacity: 0; transform: scale(1) translateX(0); }
        }
    </style>
</head>
<body class="bg-stone-50 text-stone-800 overflow-hidden">

    <!-- Halaman Pembuka -->
    <div id="opener-overlay" class="fixed inset-0 bg-stone-800 bg-opacity-95 z-50 flex flex-col items-center justify-center text-center p-6 text-white">
        <h2 class="text-2xl">Undangan Tasyakuran Khitan</h2>
        <h1 class="font-great-vibes text-6xl my-4">Harvi Tegar Seftian</h1>
        <p class="mt-8 mb-2">Kepada Yth. Bapak/Ibu/Saudara/i</p>
        <p class="font-bold text-lg" id="guest-name-opener">Tamu Undangan</p>
        <button id="open-invitation" class="mt-12 inline-flex items-center gap-2 bg-teal-700 hover:bg-teal-800 text-white font-bold py-3 px-8 rounded-full shadow-lg">
            <i data-lucide="mail-open"></i> Buka Undangan
        </button>
    </div>

    <!-- Kontrol Musik -->
    <button id="music-toggle" class="hidden fixed bottom-5 right-5 z-40 bg-white text-teal-800 rounded-full p-3 shadow-lg playing">
        <i id="music-icon" data-lucide="pause-circle"></i>
    </button>
    
    <!-- Audio Player -->
    <audio id="background-music" loop><source src="./music/sholawat.mp3" type="audio/mpeg"></audio>

    <!-- Konten Undangan -->
    <div id="invitation-content" class="opacity-0 transition-opacity duration-1000">
        <section id="hero" class="hero-bg min-h-screen flex flex-col items-center justify-center text-center p-6 text-white relative">
            <div class="absolute inset-0 bg-black bg-opacity-50"></div>
            <div class="relative z-10 reveal">
                <h2 class="text-2xl">Walimatul Khitan</h2>
                <h1 class="font-great-vibes text-6xl my-4">Harvi Tegar Seftian</h1>
                <p class="mt-8 mb-2">Kepada Yth. Bapak/Ibu/Saudara/i</p>
                <p class="font-bold text-lg" id="guest-name">Tamu Undangan</p>
                <p class="mt-2 max-w-md mx-auto">Tanpa mengurangi rasa hormat, kami mengundang Anda untuk hadir di acara tasyakuran putra kami.</p>
                <a href="#details" class="mt-8 inline-block bg-teal-700 hover:bg-teal-800 text-white font-bold py-3 px-8 rounded-full shadow-lg">Lihat Undangan</a>
            </div>
        </section>

        <section id="details" class="py-20 px-6 bg-white">
            <div class="max-w-4xl mx-auto text-center">
                <div class="reveal">
                    <h2 class="font-great-vibes text-5xl text-teal-800 mb-4">Bismillahirohmanirohim</h2>
                    <p class="text-stone-600 mb-12">Assalamu'alaikum Warahmatullahi Wabarakatuh. <br> Dengan memohon rahmat dan ridho Allah SWT, kami bermaksud menyelenggarakan acara Tasyakuran Walimatul Khitan putra kami:</p>
                    <h3 class="font-great-vibes text-6xl text-teal-900">Harvi Tegar Seftian</h3>
                    <p class="text-stone-500 mt-2 text-lg">Putra dari Bapak KUNEDI & Ibu TINAH</p>
                </div>
                <div class="reveal mt-16 grid md:grid-cols-2 gap-12 text-left items-center">
                    <div class="w-full h-80 md:h-96 rounded-2xl shadow-xl overflow-hidden">
                        <img src="./images/harvi.jpg" alt="Harvi Tegar Seftian" class="w-full h-full object-cover">
                    </div>
                    <div class="space-y-6">
                        <h3 class="text-2xl font-bold text-teal-800 border-b-2 border-teal-200 pb-2">Insya Allah akan diselenggarakan pada:</h3>
                        <div class="flex items-start space-x-4"><i data-lucide="calendar-days" class="w-8 h-8 text-teal-700 mt-1"></i><div><h4 class="font-bold text-lg">Hari & Tanggal</h4><p class="text-stone-600">Senin, 22 September 2025</p></div></div>
                        <div class="flex items-start space-x-4"><i data-lucide="clock" class="w-8 h-8 text-teal-700 mt-1"></i><div><h4 class="font-bold text-lg">Waktu</h4><p class="text-stone-600">Pukul 08:00 WIB s/d Selesai</p></div></div>
                        <div class="flex items-start space-x-4"><i data-lucide="map-pin" class="w-8 h-8 text-teal-700 mt-1"></i><div><h4 class="font-bold text-lg">Lokasi</h4><p class="text-stone-600">Kp. Kebon Kelapa RT 005 RW 003, Desa Mekarsari, Kecamatan Panimbang, Pandeglang, Banten</p></div></div>
                    </div>
                </div>
                <div class="reveal mt-20">
                    <h3 class="text-2xl font-bold text-teal-800 mb-6">Menuju Acara</h3>
                    <div id="countdown" class="grid grid-cols-4 gap-4 max-w-lg mx-auto">
                        <div class="bg-teal-50 p-4 rounded-lg shadow-md"><div id="days" class="text-4xl font-bold text-teal-700">00</div><div class="text-sm text-teal-600">Hari</div></div>
                        <div class="bg-teal-50 p-4 rounded-lg shadow-md"><div id="hours" class="text-4xl font-bold text-teal-700">00</div><div class="text-sm text-teal-600">Jam</div></div>
                        <div class="bg-teal-50 p-4 rounded-lg shadow-md"><div id="minutes" class="text-4xl font-bold text-teal-700">00</div><div class="text-sm text-teal-600">Menit</div></div>
                        <div class="bg-teal-50 p-4 rounded-lg shadow-md"><div id="seconds" class="text-4xl font-bold text-teal-700">00</div><div class="text-sm text-teal-600">Detik</div></div>
                    </div>
                </div>
            </div>
        </section>

        <section id="family" class="py-20 px-6">
            <div class="max-w-4xl mx-auto text-center">
                <div class="reveal">
                    <h2 class="text-3xl font-bold text-teal-800 mb-12">Keluarga Besar & Pemangku Hajat</h2>
                    <div class="grid md:grid-cols-2 gap-10 text-left">
                        <div class="bg-white p-6 rounded-lg shadow-md">
                            <h3 class="text-xl font-bold text-teal-800 border-b pb-2 mb-4">Pemangku Hajat:</h3>
                            <ul class="space-y-2 text-stone-600">
                                <li>Bpk. Supinah (Alm) - Orang Tua</li>
                                <li>Ibu Dasiti - Orang Tua</li>
                                <li>Bpk. Farid Sungkar - Kakak</li>
                                <li>Ibu Ira Arnesih - Kakak</li>
                                <li>~Gito~ (Sebagai)</li>
                            </ul>
                        </div>
                        <div class="bg-white p-6 rounded-lg shadow-md">
                            <h3 class="text-xl font-bold text-teal-800 border-b pb-2 mb-4">Turut Mengundang:</h3>
                            <ul class="space-y-2 text-stone-600">
                                <li><strong>Bpk. Junaedi</strong><br>(Kepala Desa Mekarsari)</li>
                                <li><strong>Bpk. Nanung</strong><br>(Sekdes Mekarsari)</li>
                                <li><strong>Bpk. Caryudi</strong><br>(RT Kp Kbn Kelapa)</li>
                                <li><strong>Bpk. H. Dakman</strong><br>(Tokoh Masyarakat)</li>
                                <li><strong>Bpk. Dasuki</strong><br>(Paman-Kp banteng)</li>
                                <li><strong>Bpk. Kosim</strong><br>(Paman-Kp banteng)</li>
                                <li><strong>Bpk. Supardi/Gojil</strong><br>(Paman-Kp banteng)</li>
                                <li><strong>Bpk. Ahmadi/Mamad</strong><br>(Mitra TMD/MMD)</li>
                                <li><strong>Bpk. Samsuri/Oray</strong><br>(Direktur Utama PT Tunggal Media Data-TMD)</li>
                                <li><strong>Bpk. Ato Suprianto/JOKER</strong><br>(Kaka-Kp Tj Baru/Remeng)</li>
                                <li><strong>Bpk. Karman</strong><br>(Saudara-Kp Tj Baru/Remeng)</li>
                                <li><strong>Bpk. Targa</strong><br>(Kaka-Kp Tj Baru/Remeng)</li>
                                <li><strong>Bpk. Waslam</strong><br>(Kaka-Kp Pacar)</li>
                                <li><strong>Bpk. Asep/Bonang</strong><br>(Kaka)</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="location" class="py-20 px-6 bg-white">
            <div class="max-w-4xl mx-auto text-center">
                <div class="reveal">
                    <h2 class="text-3xl font-bold text-teal-800 mb-8">Peta Lokasi</h2>
                    <div class="w-full h-96 rounded-2xl shadow-xl overflow-hidden border-4 border-white">
                        <iframe src="https://www.google.com/maps/embed?pb=!1m17!1m12!1m3!1d991.185244585145!2d105.7763428283681!3d-6.522499667794269!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m2!1m1!2zNsKwMzEnMjEuMCJTIDEwNcKwNDYnMzYuOSJF!5e0!3m2!1sid!2sid!4v1715854655577!5m2!1sid!2sid" 
                        width="100%" height="100%" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
                    </div>
                    <div class="mt-8 text-left max-w-2xl mx-auto">
                        <h3 class="text-xl font-bold text-teal-800 mb-4 text-center">Panduan Menuju Lokasi</h3>
                        <div class="space-y-4 text-stone-600">
                            <div class="flex items-start gap-4 p-4 bg-teal-50 rounded-lg"><div class="flex-shrink-0 w-8 h-8 bg-teal-200 text-teal-800 rounded-full flex items-center justify-center font-bold">1</div><p>Klik tombol <strong>"Buka di Google Maps"</strong> di bawah untuk membuka lokasi di aplikasi peta Anda.</p></div>
                            <div class="flex items-start gap-4 p-4 bg-teal-50 rounded-lg"><div class="flex-shrink-0 w-8 h-8 bg-teal-200 text-teal-800 rounded-full flex items-center justify-center font-bold">2</div><p>Setelah aplikasi terbuka, klik tombol <strong>"Rute"</strong> atau <strong>"Directions"</strong>.</p></div>
                            <div class="flex items-start gap-4 p-4 bg-teal-50 rounded-lg"><div class="flex-shrink-0 w-8 h-8 bg-teal-200 text-teal-800 rounded-full flex items-center justify-center font-bold">3</div><p>Pilih titik keberangkatan Anda dan ikuti panduan suara serta visual dari Google Maps untuk sampai ke tujuan.</p></div>
                        </div>
                    </div>
                    <a href="https://maps.app.goo.gl/g2B9VJrE37nMh7WG7" target="_blank" class="mt-12 inline-block bg-teal-700 hover:bg-teal-800 text-white font-bold py-3 px-8 rounded-full shadow-lg">Buka di Google Maps</a>
                </div>
            </div>
        </section>

        <section id="gallery" class="py-20 px-6">
            <div class="max-w-5xl mx-auto text-center">
                <div class="reveal">
                    <h2 class="text-3xl font-bold text-teal-800 mb-2">Galeri Kenangan</h2>
                    <p class="text-stone-600 mb-12">Momen-momen berharga kami.</p>
                    <div class="grid grid-cols-2 md:grid-cols-3 gap-4">
                        <img src="./images/galeri-1.jpg" alt="Galeri 1" class="gallery-item rounded-lg shadow-md cursor-pointer w-full h-full object-cover transform hover:scale-105 transition-transform">
                        <img src="./images/galeri-2.jpg" alt="Galeri 2" class="gallery-item rounded-lg shadow-md cursor-pointer w-full h-full object-cover transform hover:scale-105 transition-transform">
                        <img src="./images/galeri-3.jpg" alt="Galeri 3" class="gallery-item rounded-lg shadow-md cursor-pointer w-full h-full object-cover transform hover:scale-105 transition-transform">
                        <img src="./images/galeri-4.jpg" alt="Galeri 4" class="gallery-item rounded-lg shadow-md cursor-pointer w-full h-full object-cover transform hover:scale-105 transition-transform">
                        <img src="./images/galeri-5.jpg" alt="Galeri 5" class="gallery-item rounded-lg shadow-md cursor-pointer w-full h-full object-cover transform hover:scale-105 transition-transform">
                        <img src="./images/galeri-6.jpg" alt="Galeri 6" class="gallery-item rounded-lg shadow-md cursor-pointer w-full h-full object-cover transform hover:scale-105 transition-transform">
                    </div>
                </div>
            </div>
        </section>
        
        <div id="gallery-modal" class="fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center p-4 z-50 hidden">
            <img id="modal-img" src="" alt="Gambar Diperbesar" class="max-w-full max-h-full rounded-lg">
            <button id="close-modal" class="absolute top-4 right-4 text-white text-4xl">&times;</button>
        </div>

        <section id="gemini-doa" class="py-20 px-6 bg-white">
            <div class="max-w-4xl mx-auto text-center">
                <div class="reveal">
                    <h2 class="text-3xl font-bold text-teal-800 mb-4">Kirim Do'a Spesial untuk Harvi</h2>
                    <p class="text-stone-600 mb-8 max-w-2xl mx-auto">Mari kita panjakan doa terbaik. Klik tombol di bawah untuk meminta ✨ Gemini membuatkan doa yang indah dan personal untuk Harvi.</p>
                    <button id="generate-doa-btn" class="inline-flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-8 rounded-full shadow-lg">
                        <i data-lucide="sparkles"></i> ✨ Buatkan Do'a
                    </button>
                    <div id="doa-result-container" class="mt-8 min-h-[150px] max-w-2xl mx-auto bg-teal-50 p-6 rounded-2xl shadow-inner text-left relative hidden">
                        <div id="loading-spinner" class="absolute inset-0 flex items-center justify-center bg-white bg-opacity-75 rounded-2xl hidden"><div class="animate-spin rounded-full h-12 w-12 border-b-2 border-teal-700"></div></div>
                        <blockquote id="doa-text" class="text-lg text-stone-700 italic leading-relaxed"></blockquote>
                        <button id="copy-doa-btn" title="Salin Do'a" class="hidden absolute top-3 right-3 bg-white text-teal-700 p-2 rounded-full hover:bg-teal-100 transition"><i data-lucide="copy" class="w-5 h-5"></i></button>
                        <span id="copy-feedback" class="absolute top-4 right-12 text-sm text-teal-600 opacity-0 transition-opacity">Tersalin!</span>
                    </div>
                </div>
            </div>
        </section>

        <section id="closing" class="py-20 px-6 text-center">
            <div class="max-w-4xl mx-auto">
                <div class="reveal">
                    <p class="text-stone-600 mb-8">Merupakan suatu kehormatan dan kebahagiaan bagi kami apabila Bapak/Ibu/Saudara/i berkenan hadir untuk memberikan do'a restu kepada putra kami.</p>
                    <h2 class="font-great-vibes text-5xl text-teal-800">Terima Kasih</h2>
                    <p class="mt-8 text-stone-500">Wassalamu'alaikum Warahmatullahi Wabarakatuh.</p>
                    <p class="mt-12 text-lg">Kami yang berbahagia,</p>
                    <p class="font-bold text-xl text-teal-900">Keluarga Bapak Kunedi & Ibu Tinah</p>
                </div>
                <div class="reveal mt-12 border-t pt-10">
                    <h3 class="text-2xl font-bold text-teal-800 mb-4">Konfirmasi Kehadiran</h3>
                    <p class="text-stone-600 mb-6">Mohon konfirmasi kehadiran Anda melalui tombol di bawah ini.</p>
                    <a href="https://wa.me/6285659550376?text=Assalamualaikum.%20Saya%20ingin%20mengkonfirmasi%20kehadiran%20untuk%20acara%20khitanan%20Harvi.%20Nama%3A%20[Nama%20Anda],%20Jumlah%20yang%20hadir%3A%20[Jumlah%20Orang]" target="_blank" class="inline-flex items-center gap-2 bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-8 rounded-full shadow-lg">
                        <i data-lucide="send"></i> RSVP via WhatsApp
                    </a>
                </div>
            </div>
        </section>

        <section class="py-20 px-6 text-center bg-stone-100">
            <div class="max-w-lg mx-auto reveal">
                <img src="./images/profil-creator.jpg" alt="Creator Profile" class="w-24 h-24 rounded-full mx-auto mb-4 border-4 border-white shadow-lg">
                <p class="text-stone-500">Invitation created by</p>
                <h3 class="text-3xl font-bold text-teal-800 mt-2">AnxGito Abimanyu</h3>
                <p class="text-stone-600 mt-4 mb-6">Ingin membuat undangan digital seperti ini? <br>Hubungi saya melalui kontak di bawah.</p>
                <div class="flex justify-center items-center gap-4 md:gap-8">
                    <a href="https://www.facebook.com/anxgitoabimanyu" target="_blank" class="text-gray-500 hover:text-blue-600"><svg class="w-8 h-8" fill="currentColor" viewBox="0 0 24 24"><path fill-rule="evenodd" d="M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z" clip-rule="evenodd"/></svg></a>
                    <a href="https://www.tiktok.com/@machiavellianism_404" target="_blank" class="text-gray-500 hover:text-black"><svg class="w-8 h-8" fill="currentColor" viewBox="0 0 24 24"><path d="M12.525.02c1.31-.02 2.61-.01 3.91-.02.08 1.53.63 3.09 1.75 4.17 1.12 1.11 2.7 1.62 4.24 1.79v4.03c-1.44-.05-2.89-.35-4.2-.97-.57-.26-1.1-.59-1.62-.93-.01 2.92.01 5.84-.02 8.75-.08 1.4-.54 2.79-1.35 3.94-1.31 1.92-3.58 3.17-5.91 3.21-2.43.05-4.84-.95-6.43-2.8-1.59-1.87-2.21-4.36-1.8-6.73.38-2.36 1.71-4.48 3.48-5.96 2.01-1.66 4.48-2.33 6.96-1.92.02 1.48-.04 2.96-.04 4.44-.99-.32-2.15-.23-3.02.37-.63.41-1.11 1.04-1.36 1.75-.21.51-.15 1.07-.14 1.61.24 1.64 1.82 3.02 3.5 2.87 1.12-.01 2.19-.66 2.77-1.61.19-.33.4-.67.41-1.06.1-1.79.06-3.57.07-5.36.01-4.03-.01-8.05.02-12.07z"/></svg></a>
                    <a href="mailto:anxgitoabimanyu375@gmail.com" target="_blank" class="text-gray-500 hover:text-red-600"><svg class="w-8 h-8" fill="currentColor" viewBox="0 0 24 24"><path d="M22 6c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6zm-2 0l-8 5-8-5h16zm0 12H4V8l8 5 8-5v10z"/></svg></a>
                    <div class="relative">
                        <a href="https://wa.me/6285711118797?text=Halo%2C%20saya%20tertarik%20untuk%20membuat%20undangan%20digital." target="_blank" class="inline-block">
                            <button class="bg-green-500 text-white font-bold py-3 px-6 rounded-full shadow-lg hover:bg-green-600 transition-transform transform hover:scale-105 flex items-center gap-2">
                                <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24"><path d="M12.04 2c-5.46 0-9.91 4.45-9.91 9.91 0 1.75.46 3.45 1.32 4.95L2.05 22l5.25-1.38c1.45.79 3.08 1.21 4.74 1.21 5.46 0 9.91-4.45 9.91-9.91S17.5 2 12.04 2zM12.04 20.12c-1.48 0-2.93-.4-4.19-1.15l-.3-.18-3.12.82.83-3.04-.2-.32a8.19 8.19 0 01-1.26-4.35c0-4.54 3.68-8.22 8.22-8.22s8.22 3.68 8.22 8.22-3.69 8.22-8.22 8.22zm4.52-6.14c-.25-.12-1.47-.72-1.7-.82s-.39-.12-.56.12c-.17.25-.64.82-.79.98s-.29.17-.54.06c-.25-.12-1.07-.39-2.04-1.26s-1.46-1.56-1.63-1.81c-.17-.25-.02-.38.11-.51.11-.11.25-.29.37-.43s.17-.21.25-.33c.08-.12.04-.25-.02-.37s-.56-1.34-.76-1.84c-.2-.48-.41-.42-.56-.42h-.48c-.17 0-.43.06-.66.31s-.87.85-.87 2.07c0 1.22.89 2.4 1.01 2.56s1.75 2.67 4.24 3.76c.59.26 1.05.41 1.41.52.59.17 1.13.15 1.55.09.47-.06 1.47-.6 1.68-1.18s.21-1.07.15-1.18c-.07-.1-.22-.16-.47-.28z"/></svg>
                                <span>Hubungi Saya</span>
                            </button>
                        </a>
                        <div class="hand-press">
                             <i data-lucide="hand" class="w-8 h-8"></i>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <footer class="text-center py-6 bg-white text-sm text-stone-500">
             <p>&copy; 2025 - Dibuat oleh AnxGito Abimanyu dengan ❤️ untuk Harvi Tegar Seftian</p>
        </footer>
    </div>
    
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            lucide.createIcons();
            
            // Logika Pembuka & Musik
            const openButton = document.getElementById('open-invitation');
            const music = document.getElementById('background-music');
            const musicToggle = document.getElementById('music-toggle');
            const invitationContent = document.getElementById('invitation-content');
            
            openButton.addEventListener('click', () => {
                document.getElementById('opener-overlay').style.opacity = '0';
                setTimeout(() => document.getElementById('opener-overlay').style.display = 'none', 750);
                
                musicToggle.classList.remove('hidden');
                document.body.classList.remove('overflow-hidden');
                invitationContent.classList.remove('opacity-0');
                
                const playPromise = music.play();
                if (playPromise !== undefined) {
                    playPromise.catch(error => console.error("Audio play failed:", error));
                }
            });
            
            musicToggle.addEventListener('click', () => {
                const musicIcon = document.getElementById('music-icon');
                if (music.paused) {
                    music.play();
                    musicIcon.setAttribute('data-lucide', 'pause-circle');
                    musicToggle.classList.add('playing');
                } else {
                    music.pause();
                    musicIcon.setAttribute('data-lucide', 'play-circle');
                    musicToggle.classList.remove('playing');
                }
                lucide.createIcons();
            });

            // Logika Nama Tamu
            const urlParams = new URLSearchParams(window.location.search);
            const guest = urlParams.get('to');
            if (guest) {
                const guestName = guest.replace(/_/g, ' ');
                document.getElementById('guest-name').textContent = guestName;
                document.getElementById('guest-name-opener').textContent = guestName;
            }

            // Logika Animasi Reveal on Scroll
            const revealElements = document.querySelectorAll('.reveal');
            const revealObserver = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) entry.target.classList.add('visible');
                });
            }, { threshold: 0.1 });
            revealElements.forEach(el => revealObserver.observe(el));

            // Logika Countdown
            const countdownDate = new Date("2025-09-22T08:00:00").getTime();
            setInterval(() => {
                const now = new Date().getTime();
                const distance = countdownDate - now;
                if (distance < 0) {
                    document.getElementById("countdown").innerHTML = "<div class='col-span-4 text-center text-xl font-bold text-teal-800'>Acara Telah Berlangsung</div>";
                    return;
                }
                document.getElementById("days").innerText = Math.floor(distance / (1000 * 60 * 60 * 24)).toString().padStart(2, '0');
                document.getElementById("hours").innerText = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60)).toString().padStart(2, '0');
                document.getElementById("minutes").innerText = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60)).toString().padStart(2, '0');
                document.getElementById("seconds").innerText = Math.floor((distance % (1000 * 60)) / 1000).toString().padStart(2, '0');
            }, 1000);

            // Logika Galeri Modal
            const galleryItems = document.querySelectorAll('.gallery-item');
            const modal = document.getElementById('gallery-modal');
            const modalImg = document.getElementById('modal-img');
            const closeModalBtn = document.getElementById('close-modal');
            galleryItems.forEach(item => {
                item.addEventListener('click', () => {
                    modal.classList.remove('hidden');
                    modalImg.src = item.src;
                });
            });
            const hideModal = () => modal.classList.add('hidden');
            closeModalBtn.addEventListener('click', hideModal);
            modal.addEventListener('click', (e) => {
                if(e.target === modal) hideModal();
            });

            // Logika Gemini
            const generateDoaBtn = document.getElementById('generate-doa-btn');
            const doaResultContainer = document.getElementById('doa-result-container');
            const loadingSpinner = document.getElementById('loading-spinner');
            const doaText = document.getElementById('doa-text');
            const copyDoaBtn = document.getElementById('copy-doa-btn');
            const copyFeedback = document.getElementById('copy-feedback');
            generateDoaBtn.addEventListener('click', async () => {
                doaResultContainer.classList.remove('hidden');
                loadingSpinner.classList.remove('hidden');
                doaText.textContent = '';
                copyDoaBtn.classList.add('hidden');
                const apiKey = "";
                const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${apiKey}`;
                const userPrompt = `Buatkan sebuah doa yang indah dan menyentuh dalam bahasa Indonesia untuk seorang anak laki-laki bernama Harvi yang baru saja dikhitan. Doa ini harus singkat (sekitar 2-3 kalimat), berisi harapan untuk kesehatan, kesalehan, keberanian, dan masa depan yang cerah. Gunakan bahasa yang sopan dan penuh harapan. Jangan gunakan format markdown.`;
                const payload = { contents: [{ parts: [{ text: userPrompt }] }], generationConfig: { temperature: 0.8, topK: 40, topP: 0.95, maxOutputTokens: 1024 } };
                try {
                    const response = await fetch(apiUrl, { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify(payload) });
                    if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);
                    const result = await response.json();
                    let generatedText = "Maaf, terjadi kesalahan. Silakan coba lagi.";
                    const textFromResult = result?.candidates?.[0]?.content?.parts?.[0]?.text;
                    if (textFromResult) generatedText = textFromResult;
                    doaText.textContent = generatedText;
                    copyDoaBtn.classList.remove('hidden');
                } catch (error) {
                    console.error("Error calling Gemini API:", error);
                    doaText.textContent = "Maaf, tidak dapat terhubung ke layanan. Coba lagi.";
                } finally {
                    loadingSpinner.classList.add('hidden');
                    lucide.createIcons();
                }
            });
            copyDoaBtn.addEventListener('click', () => {
                navigator.clipboard.writeText(doaText.textContent).then(() => {
                    copyFeedback.classList.remove('opacity-0');
                    setTimeout(() => copyFeedback.classList.add('opacity-0'), 2000);
                });
            });
        });
    </script>
</body>
</html>

